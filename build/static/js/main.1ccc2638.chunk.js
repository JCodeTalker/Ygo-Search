(this["webpackJsonpygo-search"]=this["webpackJsonpygo-search"]||[]).push([[0],{59:function(e,t,c){},70:function(e,t,c){},71:function(e,t,c){},72:function(e,t,c){},73:function(e,t,c){},75:function(e,t,c){},76:function(e,t,c){},77:function(e,t,c){},78:function(e,t,c){},79:function(e,t,c){},80:function(e,t,c){"use strict";c.r(t);var n=c(3),a=c.n(n),r=c(37),s=c.n(r),i=(c(59),c(38)),o=c(10),l=c(7),d=c.n(l),u=c(13),j=c(9),h=c(52),b=c(23);c(63),c(64);b.a.initializeApp({apiKey:"AIzaSyC7OYuMume_IAZe7KYjLxnL-09hI26_ZTI",authDomain:"ygo-app.firebaseapp.com",projectId:"ygo-app",storageBucket:"ygo-app.appspot.com",messagingSenderId:"274984959082",appId:"1:274984959082:web:b2f9eba4b2865a6e2c9e13"});var p=b.a.firestore();b.a.auth().setPersistence(b.a.auth.Auth.Persistence.LOCAL);var m=b.a.auth(),f=(b.a.database(),c(2)),x=Object(n.createContext)({});function O(e){var t=Object(n.useState)(),c=Object(j.a)(t,2),a=c[0],r=c[1],s=Object(o.f)();function i(e){return l.apply(this,arguments)}function l(){return(l=Object(u.a)(d.a.mark((function e(t){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=[],e.next=3,p.collection("usuarios/".concat(t,"/Card WishList")).get();case 3:return e.sent.forEach((function(e){c.push(e.data())})),e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(){return(b=Object(u.a)(d.a.mark((function e(){var t,c,n,a,s,o,l,u;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new h.a.auth.GoogleAuthProvider,e.next=3,m.signInWithPopup(t);case 3:if(!(c=e.sent).user){e.next=20;break}if(n=c.user,a=n.displayName,s=n.photoURL,o=n.uid,l=n.email,a&&s){e.next=8;break}throw new Error("Missing information from Google");case 8:return e.next=10,p.collection("usuarios").doc("".concat(a)).get();case 10:if((u=e.sent).exists){e.next=18;break}return console.log("No data found, creating new user."),e.next=15,p.collection("usuarios").doc("".concat(a)).set({name:a,id:o,avatar:s,email:l});case 15:e.sent,e.next=19;break;case 18:console.log("User data found: "+u.data());case 19:i(a).then((function(e){r({id:o,name:a,avatar:s,email:l,wishlist:e})}));case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=m.onAuthStateChanged((function(e){if(e){var t=e.displayName,c=e.photoURL,n=e.uid,a=e.email;if(!t||!c)throw new Error("Missing information from Google");i(t).then((function(e){r({id:n,name:t,avatar:c,email:a,wishlist:e})}))}}));return function(){e()}}),[]),Object(f.jsx)(x.Provider,{value:{user:a,signInWithGoogle:function(){return b.apply(this,arguments)},logOut:function(){m.signOut(),r({}),s.push("/")},setUser:r},children:e.children})}c(70),c(71);function v(){return Object(f.jsxs)("div",{id:"spinner",children:[Object(f.jsx)("div",{className:"spinner-border",role:"status"}),Object(f.jsx)("span",{children:"Loading..."})]})}function g(){return Object(n.useContext)(x)}var w=c.p+"static/media/google-icon.df15d8e5.svg",y=(c(72),c.p+"static/media/kuriboh.694d4ae1.jpg");function k(){var e=g(),t=e.user,c=e.signInWithGoogle,n=Object(o.f)();return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("div",{className:"container col-xxl-8 px-4 py-0",children:Object(f.jsxs)("div",{className:"row flex-lg-row-reverse align-items-center g-5 py-5",children:[Object(f.jsx)("div",{className:"col-10 col-sm-8 col-lg-6",children:Object(f.jsx)("img",{src:y,className:"d-block mx-lg-auto img-fluid",alt:"Bootstrap Themes",width:"700",height:"500",loading:"lazy"})}),Object(f.jsxs)("div",{className:"col-lg-6",children:[Object(f.jsxs)("h1",{className:"display-5 fw-bold lh-1 mb-3",children:["Welcome to Ygo Search",(null===t||void 0===t?void 0:t.name)?", ".concat(t.name,"."):""]}),Object(f.jsx)("p",{className:"lead",children:"Here, you can view information on any card in the Yu-Gi-Oh! Trading Card Game, as well as save your deck recipes and create a wish-list of cards that you do not own. You can also register your card collection to quickly dig through it."}),Object(f.jsxs)("div",{className:"d-grid gap-2 d-md-flex justify-content-md-start",children:[Object(f.jsx)("button",{type:"button",className:"btn btn-primary btn-lg px-4 me-md-2",onClick:function(){n.push("/Recipes")},children:"Create deck recipe"}),!t&&Object(f.jsxs)("button",{type:"button",onClick:c,className:"btn btn-outline-secondary btn-lg px-4",id:"sign-in-button",children:[Object(f.jsx)("img",{src:w,alt:""}),"Sign In with Google"]})]})]})]})})})}var N=c(21),C=(c(73),c(53));function D(e){var t=e.isSelected,c=void 0!==t&&t,n=Object(C.a)(e,["isSelected"]);return Object(f.jsx)("button",Object(N.a)(Object(N.a)({className:"".concat(c)},n),{},{children:n.children}))}var S=c.p+"static/media/right-arrow.e250eede.svg";function _(e){var t=g(),c=e.card.desc.split("\n").map((function(e,t){return Object(f.jsx)("p",{children:e},t)})),a=Object(n.useState)(0),r=Object(j.a)(a,2),s=r[0],i=r[1];function o(){return(o=Object(u.a)(d.a.mark((function e(c){var n,a,r,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=null===(n=t.user)||void 0===n||null===(a=n.wishlist)||void 0===a?void 0:a.filter((function(e){return e.name!==c})),t.setUser(Object(N.a)(Object(N.a)({},t.user),{},{wishlist:s})),e.next=4,p.collection("usuarios").doc("".concat(null===(r=t.user)||void 0===r?void 0:r.name)).collection("Card WishList").doc(c).delete();case 4:alert("Successfully deleted!");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(){return(l=Object(u.a)(d.a.mark((function c(){var n,a;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,p.collection("usuarios/".concat(null===(n=t.user)||void 0===n?void 0:n.name,"/Card WishList")).where("name","==","".concat(e.card.name)).get();case 2:a=c.sent,console.log(e.card.name),console.log(a.empty),x(a.empty);case 6:case"end":return c.stop()}}),c)})))).apply(this,arguments)}Object(n.useEffect)((function(){!function(){l.apply(this,arguments)}()}));var h=Object(n.useState)(!1),b=Object(j.a)(h,2),m=b[0],x=b[1];return Object(f.jsxs)("main",{id:"card-info",children:[Object(f.jsx)("aside",{style:{display:"flex"},children:Object(f.jsx)("img",{src:e.card.card_images[s].image_url,alt:e.card.name,id:"card-image"})}),e.card.card_images.length>1?Object(f.jsx)("img",{src:S,alt:"",id:"arr",onClick:function(){s<e.card.card_images.length-1?i(s+1):i(0)},"data-bs-toggle":"tooltip","data-bs-placement":"top",title:"Change card artwork"}):"",Object(f.jsxs)("div",{id:"card-text",children:[Object(f.jsx)("h3",{children:e.card.name}),Object(f.jsxs)("h5",{children:["Type: ".concat(e.card.race),void 0!==e.card.attribute&&" | Attribute: ".concat(e.card.attribute," | "),"XYZ Monster"===e.card.type&&"Rank: ".concat(e.card.level),e.card.level&&"XYZ Monster"!==e.card.type?"Level: ".concat(e.card.level):""]}),Object(f.jsx)("h6",{children:"Description:"}),Object(f.jsx)("div",{id:"desc",style:{margin:"5px"},children:c}),Object(f.jsxs)("div",{children:[e.card.atk?Object(f.jsxs)("p",{children:[Object(f.jsx)("em",{children:"ATK:"})," ",e.card.atk," | ",Object(f.jsx)("em",{children:"DEF:"})," ",e.card.def," "]}):"",m?Object(f.jsx)(D,{onClick:function(){var c,n,a,r;(null===(c=t.user)||void 0===c?void 0:c.name)?(p.collection("usuarios").doc("".concat(null===(r=t.user)||void 0===r?void 0:r.name,"/Card WishList/").concat(e.card.name)).set(e.card),alert("Success!")):alert("You must log in first.");var s=null===(n=t.user)||void 0===n?void 0:n.wishlist;null===s||void 0===s||s.push(e.card),t.setUser(Object(N.a)(Object(N.a)({},t.user),{},{wishlist:s})),console.log("wishlist: ",null===(a=t.user)||void 0===a?void 0:a.wishlist)},className:"btn btn-primary",children:"Add to wishlist"}):Object(f.jsx)(D,{onClick:function(){!function(e){o.apply(this,arguments)}(e.card.name)},className:"btn btn-primary",children:"Remove from wishlist"})]})]})]})}var A=c(33);function L(e){return I.apply(this,arguments)}function I(){return(I=Object(u.a)(d.a.mark((function e(t){var c,n,a,r,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=function(){return(s=Object(u.a)(d.a.mark((function e(){var c,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://db.ygoprodeck.com/api/v7/cardinfo.php?name=".concat(t.name));case 2:return e.next=4,e.sent.json();case 4:if(!(c=e.sent).data[0].archetype){e.next=11;break}return e.next=8,fetch("https://db.ygoprodeck.com/api/v7/cardinfo.php?archetype=".concat(c.data[0].archetype));case 8:return e.next=10,e.sent.json();case 10:n=e.sent;case 11:if(!n){e.next=15;break}return e.abrupt("return",[c.data[0]].concat(Object(A.a)(n.data)).filter((function(e,t,c){return t===c.findIndex((function(t){return t.place===e.place&&t.name===e.name}))})));case 15:return e.abrupt("return",[c.data[0]]);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)},r=function(){return s.apply(this,arguments)},a=function(){return(a=Object(u.a)(d.a.mark((function e(){var c,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://db.ygoprodeck.com/api/v7/cardinfo.php?language=pt&name=".concat(t.name));case 2:return c=e.sent,e.next=5,c.json();case 5:return n=e.sent,e.abrupt("return",n?[n]:[r()]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)},n=function(){return a.apply(this,arguments)},"complete-list"!==t.name){e.next=11;break}return e.next=7,fetch("https://db.ygoprodeck.com/api/v7/cardinfo.php");case 7:return e.next=9,e.sent.json();case 9:return c=e.sent,e.abrupt("return",c.data);case 11:if(e.prev=11,"Portuguese"!==t.lang){e.next=18;break}return e.next=15,n();case 15:return e.abrupt("return",e.sent);case 18:return e.next=20,r();case 20:return e.abrupt("return",e.sent);case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(11),console.log(e.t0);case 26:case"end":return e.stop()}}),e,null,[[11,23]])})))).apply(this,arguments)}function H(e){var t=Object(n.useState)(""),c=Object(j.a)(t,2),a=c[0],r=c[1],s=Object(o.f)(),i=g(),l=i.user,d=i.logOut;function u(e){window.location.pathname===e?document.location.reload():s.push(e)}return Object(f.jsx)("header",{className:"container-fluid p-3 mb-3 border-bottom",style:{width:"100%"},children:Object(f.jsx)("div",{className:"container",children:Object(f.jsxs)("div",{className:"d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start",children:[Object(f.jsx)("a",{href:"/",className:"d-flex align-items-center mb-2 mb-lg-0 text-dark text-decoration-none"}),Object(f.jsxs)("ul",{className:"nav col-12 col-lg-auto me-lg-auto mb-2 justify-content-center mb-md-0",children:[Object(f.jsx)("li",{children:Object(f.jsx)("a",{href:"#",className:"nav-link px-2 link-secondary",onClick:function(){u("/")},children:"Home"})}),Object(f.jsx)("li",{children:Object(f.jsx)("a",{href:"#",className:"nav-link px-2 link-dark",onClick:function(){u("/wishlist")},children:"WishList"})}),Object(f.jsxs)("li",{children:[Object(f.jsx)("a",{href:"#",type:"button",className:"dropdown-toggle nav-link px-2 link-dark",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Anime Series"}),Object(f.jsxs)("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:[Object(f.jsx)("li",{children:Object(f.jsx)("a",{href:"https://www.crunchyroll.com/pt-br/yu-gi-oh",target:"_blank",rel:"noreferrer",className:"dropdown-item nav-link px-2 link-dark",children:"Duel Monsters"})}),Object(f.jsx)("li",{children:Object(f.jsx)("a",{href:"https://www.crunchyroll.com/pt-br/yu-gi-oh-gx",target:"_blank",rel:"noreferrer",className:"dropdown-item nav-link px-2 link-dark",children:"GX"})}),Object(f.jsx)("li",{children:Object(f.jsx)("a",{href:"https://www.crunchyroll.com/pt-br/yu-gi-oh-5ds",target:"_blank",rel:"noreferrer",className:"dropdown-item nav-link px-2 link-dark",children:"5D's"})}),Object(f.jsx)("li",{children:Object(f.jsx)("a",{href:"https://www.crunchyroll.com/pt-br/yu-gi-oh-zexal",target:"_blank",rel:"noreferrer",className:"dropdown-item nav-link px-2 link-dark",children:"Zexal"})}),Object(f.jsx)("li",{children:Object(f.jsx)("a",{href:"https://www.crunchyroll.com/pt-br/yu-gi-oh-arc-v",target:"_blank",rel:"noreferrer",className:"dropdown-item nav-link px-2 link-dark",children:"Arc-V"})}),Object(f.jsx)("li",{children:Object(f.jsx)("a",{href:"https://www.crunchyroll.com/pt-br/yu-gi-oh-vrains",target:"_blank",rel:"noreferrer",className:"dropdown-item nav-link px-2 link-dark",children:"VRAINS"})})]})]}),Object(f.jsx)("li",{children:Object(f.jsx)("a",{href:"https://img.yugioh-card.com/en/rulebook/SD_RuleBook_EN_10.pdf",className:"nav-link px-2 link-dark",rel:"noreferrer",target:"_blank",children:"How to Play"})})]}),Object(f.jsx)("form",{className:"col-12 col-lg-auto mb-3 mb-lg-0 me-lg-3",onSubmit:function(t){t.preventDefault(),e.resolveFunction(a)},children:Object(f.jsx)("input",{type:"search",className:"form-control",placeholder:"Search...","aria-label":"Search",onChange:function(e){return r(e.target.value)},autoComplete:"on"})}),Object(f.jsxs)("div",{className:"dropdown text-end",children:[Object(f.jsx)("a",{href:"#",className:"d-block link-dark text-decoration-none dropdown-toggle",id:"dropdownUser1","data-bs-toggle":"dropdown","aria-expanded":"false",children:Object(f.jsx)("img",{src:null===l||void 0===l?void 0:l.avatar,alt:"avatar",width:"32",height:"32",className:"rounded-circle"})}),Object(f.jsxs)("ul",{className:"dropdown-menu text-small","aria-labelledby":"dropdownUser1",children:[Object(f.jsx)("li",{children:Object(f.jsx)("a",{className:"dropdown-item",href:"#",children:"New project..."})}),Object(f.jsx)("li",{children:Object(f.jsx)("a",{className:"dropdown-item",href:"#",children:"Settings"})}),Object(f.jsx)("li",{children:Object(f.jsx)("a",{className:"dropdown-item",href:"#",children:"Profile"})}),Object(f.jsx)("li",{children:Object(f.jsx)("hr",{className:"dropdown-divider"})}),Object(f.jsx)("li",{children:Object(f.jsx)("a",{className:"dropdown-item",href:"#",onClick:d,children:"Sign out"})})]})]})]})})})}var z=function(){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",style:{display:"none"},children:[Object(f.jsxs)("symbol",{id:"bootstrap",viewBox:"0 0 118 94",children:[Object(f.jsx)("title",{children:"Bootstrap"}),Object(f.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.509 0c-6.733 0-11.715 5.893-11.492 12.284.214 6.14-.064 14.092-2.066 20.577C8.943 39.365 5.547 43.485 0 44.014v5.972c5.547.529 8.943 4.649 10.951 11.153 2.002 6.485 2.28 14.437 2.066 20.577C12.794 88.106 17.776 94 24.51 94H93.5c6.733 0 11.714-5.893 11.491-12.284-.214-6.14.064-14.092 2.066-20.577 2.009-6.504 5.396-10.624 10.943-11.153v-5.972c-5.547-.529-8.934-4.649-10.943-11.153-2.002-6.484-2.28-14.437-2.066-20.577C105.214 5.894 100.233 0 93.5 0H24.508zM80 57.863C80 66.663 73.436 72 62.543 72H44a2 2 0 01-2-2V24a2 2 0 012-2h18.437c9.083 0 15.044 4.92 15.044 12.474 0 5.302-4.01 10.049-9.119 10.88v.277C75.317 46.394 80 51.21 80 57.863zM60.521 28.34H49.948v14.934h8.905c6.884 0 10.68-2.772 10.68-7.727 0-4.643-3.264-7.207-9.012-7.207zM49.948 49.2v16.458H60.91c7.167 0 10.964-2.876 10.964-8.281 0-5.406-3.903-8.178-11.425-8.178H49.948z"})]}),Object(f.jsx)("symbol",{id:"facebook",viewBox:"0 0 16 16",children:Object(f.jsx)("path",{d:"M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z"})}),Object(f.jsx)("symbol",{id:"instagram",viewBox:"0 0 16 16",children:Object(f.jsx)("path",{d:"M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.917 3.917 0 0 0-1.417.923A3.927 3.927 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.916 3.916 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.926 3.926 0 0 0-.923-1.417A3.911 3.911 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0h.003zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599.28.28.453.546.598.92.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.47 2.47 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.478 2.478 0 0 1-.92-.598 2.48 2.48 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233 0-2.136.008-2.388.046-3.231.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92.28-.28.546-.453.92-.598.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045v.002zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92zm-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217zm0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334z"})}),Object(f.jsx)("symbol",{id:"twitter",viewBox:"0 0 16 16",children:Object(f.jsx)("path",{d:"M5.026 15c6.038 0 9.341-5.003 9.341-9.334 0-.14 0-.282-.006-.422A6.685 6.685 0 0 0 16 3.542a6.658 6.658 0 0 1-1.889.518 3.301 3.301 0 0 0 1.447-1.817 6.533 6.533 0 0 1-2.087.793A3.286 3.286 0 0 0 7.875 6.03a9.325 9.325 0 0 1-6.767-3.429 3.289 3.289 0 0 0 1.018 4.382A3.323 3.323 0 0 1 .64 6.575v.045a3.288 3.288 0 0 0 2.632 3.218 3.203 3.203 0 0 1-.865.115 3.23 3.23 0 0 1-.614-.057 3.283 3.283 0 0 0 3.067 2.277A6.588 6.588 0 0 1 .78 13.58a6.32 6.32 0 0 1-.78-.045A9.344 9.344 0 0 0 5.026 15z"})})]}),Object(f.jsx)("div",{className:"container",children:Object(f.jsxs)("footer",{className:"d-flex flex-wrap justify-content-between align-items-center py-3 my-4 border-top",children:[Object(f.jsxs)("div",{className:"col-md-4 d-flex align-items-center",children:[Object(f.jsx)("a",{href:"/",className:"mb-3 me-2 mb-md-0 text-muted text-decoration-none lh-1",children:Object(f.jsx)("svg",{className:"bi",width:"30",height:"24",children:Object(f.jsx)("use",{xlinkHref:"#bootstrap"})})}),Object(f.jsx)("span",{className:"text-muted",children:"\xa9 2021 JCodeTalker, Inc"})]}),Object(f.jsxs)("ul",{className:"nav col-md-4 justify-content-end list-unstyled d-flex",children:[Object(f.jsx)("li",{className:"ms-3",children:Object(f.jsx)("a",{className:"text-muted",href:"#",children:Object(f.jsx)("svg",{className:"bi",width:"24",height:"24",children:Object(f.jsx)("use",{xlinkHref:"#twitter"})})})}),Object(f.jsx)("li",{className:"ms-3",children:Object(f.jsx)("a",{className:"text-muted",href:"#",children:Object(f.jsx)("svg",{className:"bi",width:"24",height:"24",children:Object(f.jsx)("use",{xlinkHref:"#instagram"})})})}),Object(f.jsx)("li",{className:"ms-3",children:Object(f.jsx)("a",{className:"text-muted",href:"#",children:Object(f.jsx)("svg",{className:"bi",width:"24",height:"24",children:Object(f.jsx)("use",{xlinkHref:"#facebook"})})})})]})]})})]})};function M(){var e=Object(n.useState)(),t=Object(j.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(""),s=Object(j.a)(r,2),i=s[0],o=s[1],l=L;function h(){return(h=Object(u.a)(d.a.mark((function e(t){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o("spinner"),e.next=3,l({name:t,exact:!0});case 3:(c=e.sent)?(a(c[0]),o("card")):(alert("No card with the specified name was found!"),o("description"));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(f.jsxs)("div",{className:"home",children:[Object(f.jsx)(H,{resolveFunction:function(e){return h.apply(this,arguments)}}),function(){switch(i){case"spinner":return Object(f.jsx)(v,{});case"card":if(c)return Object(f.jsx)(_,{card:c});break;case"description":default:return Object(f.jsx)(k,{})}}(),Object(f.jsx)(z,{})]})}c(74),c(75);var F=c(49),R=c.p+"static/media/card-back-2.e3342219.jpg",B=c(86);c(76);function E(e){var t=Object(n.useState)(0),c=Object(j.a)(t,2),a=(c[0],c[1],Object(B.a)({type:"CARD",item:function(){return{name:e.card.name,id:e.card.id,cardData:e.card}},collect:function(e){return{isDragging:e.isDragging(),didDrop:e.didDrop()}}})),r=Object(j.a)(a,2),s=r[0],i=(s.isDragging,s.didDrop,r[1]);return Object(f.jsx)("div",{ref:i,style:{height:"min-content"},children:Object(f.jsx)(F.LazyLoadImage,{className:"mini-card",placeholderSrc:R,effect:"blur",src:e.card.card_images[0].image_url_small,alt:"card",style:{cursor:"grabbing"}})})}c(77);function P(e){var t=Object(n.useState)(29),c=Object(j.a)(t,2),a=c[0],r=c[1];return Object(f.jsx)("div",{onScroll:function(e){var t=e.currentTarget,c=t.scrollTop;t.scrollHeight-c===t.clientHeight&&r((function(e){return e+45}))},id:"card-list",style:{padding:0},children:e.cards&&e.cards.map((function(e,t){if(t<a)return Object(f.jsx)(E,{card:e},t)}))})}var T=c(87);c(78);function W(){var e=Object(n.useState)(),t=Object(j.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(),s=Object(j.a)(r,2),i=s[0],o=s[1],l=Object(n.useState)(),h=Object(j.a)(l,2),b=h[0],m=h[1],x=Object(n.useState)(),O=Object(j.a)(x,2),v=O[0],w=O[1],y=g().user,k=Object(T.a)((function(){return{accept:"CARD",drop:function(e,t){e.cardData.type.includes("Synchro")||e.cardData.type.includes("XYZ")||e.cardData.type.includes("Link")||e.cardData.type.includes("Fusion")||o(e)},collect:function(e){return{canDrop:e.canDrop(),isOver:e.isOver(),didDrop:e.didDrop()}}}})),N=Object(j.a)(k,2),C=N[0],D=(C.canDrop,C.isOver,C.didDrop,N[1]),S=Object(T.a)((function(){return{accept:"CARD",drop:function(e,t){(e.cardData.type.includes("Synchro")||e.cardData.type.includes("XYZ")||e.cardData.type.includes("Link")||e.cardData.type.includes("Fusion"))&&w(e)},collect:function(e){return{canDrop:e.canDrop(),isOver:e.isOver(),didDrop:e.didDrop()}}}})),_=Object(j.a)(S,2)[1];function L(e,t,c){if(t){var n=t.findIndex((function(t){return t.name===e.name}));if(-1===n){var a=t;a.push({name:e.name,count:1,content:e.cardData}),c(a)}if(-1!==n&&t[n].count<3){var r=t.filter((function(e,t){return t!==n}));c([].concat(Object(A.a)(r),[{name:e.name,content:e.cardData,count:t[n].count+1}]))}}else c([{name:e.name,count:1,content:e.cardData}])}function I(){return(I=Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=p.batch(),null===c||void 0===c||c.forEach((function(e){t.set(p.collection("usuarios").doc("".concat(null===y||void 0===y?void 0:y.name,"/New Deck/").concat(e.name)),e)})),t.commit(),alert("Recipe saved.");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(e){for(var t=[],c=0;c<e.count;c++)t.push(e.content&&Object(f.jsx)(E,{card:e.content},c));return t}function z(e){return e.reduce((function(e,t){return e+t.count}),1)}return Object(n.useEffect)((function(){c&&61===z(c)||i&&L(i,c,a)}),[i]),Object(n.useEffect)((function(){b&&16===z(b)||v&&L(v,b,m)}),[v]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{id:"main-deck",ref:D,children:null===c||void 0===c?void 0:c.map((function(e){return H(e)}))}),Object(f.jsx)("button",{type:"button",onClick:function(){return I.apply(this,arguments)},className:"btn btn-primary m-3 position-fixed bottom-0 end-0",children:"Save recipe"}),Object(f.jsx)("div",{id:"extra-deck",ref:_,children:null===b||void 0===b?void 0:b.map((function(e){return H(e)}))})]})}function Y(){var e=L,t=Object(n.useState)([]),c=Object(j.a)(t,2),a=c[0],r=c[1];function s(e){return i.apply(this,arguments)}function i(){return(i=Object(u.a)(d.a.mark((function t(c){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=c||"complete-list",t.next=3,e({exact:!0,name:c});case 3:(n=t.sent)&&(console.log(n),r(n));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(n.useEffect)((function(){s()}),[]),Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{id:"main",className:"container-fluid",children:[Object(f.jsx)(H,{resolveFunction:s}),Object(f.jsx)("div",{children:Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-5",style:{padding:0,margin:"0px"},children:a.length>0&&Object(f.jsx)(P,{cards:a},a[0].name)}),Object(f.jsx)("div",{className:"col-7",children:Object(f.jsx)(W,{})})]})})]})})}c(79);function G(){var e=g().user,t=Object(n.useState)(),c=Object(j.a)(t,2),a=c[0],r=c[1],s=L;function i(){return(i=Object(u.a)(d.a.mark((function e(t){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s({exact:!0,name:t});case 2:c=e.sent,r(c[0]);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function o(t){return Object(f.jsxs)("div",{className:"main-wishlist",children:[a&&Object(f.jsx)(_,{card:a}),Object(f.jsx)("div",{className:"container wishlist ".concat(t.fullscreen?"fullscreen":""),children:Object(f.jsx)("div",{className:"row ".concat(t.fullscreen?"fullscreen":""),id:"row",children:(null===e||void 0===e?void 0:e.wishlist)?e.wishlist.map((function(e,c){return Object(f.jsx)("div",{className:"col-2",children:Object(f.jsxs)("div",{className:"card",children:[Object(f.jsx)("button",{className:"",style:{padding:0},onClick:function(){r(e)},"data-bs-toggle":"tooltip","data-bs-placement":"right",title:e.name,children:Object(f.jsx)("img",{src:t.fullscreen?e.card_images[0].image_url:e.card_images[0].image_url_small,className:"card-img-top",alt:"..."})}),Object(f.jsx)("div",{className:"card-body"}),Object(f.jsx)("div",{className:"card-buttons"})]})},c)})):""})})]})}return Object(f.jsxs)("div",{className:"home",children:[Object(f.jsx)(H,{resolveFunction:function(e){return i.apply(this,arguments)}}),Object(f.jsx)("div",{className:"main-wishlist",children:Object(f.jsx)(o,{fullscreen:!a})}),Object(f.jsx)(z,{})]})}var U=c(85),Z=c(51);var V=function(){return Object(f.jsx)(i.a,{children:Object(f.jsx)(U.a,{backend:Z.a,children:Object(f.jsx)(O,{children:Object(f.jsxs)(o.c,{children:[Object(f.jsx)(o.a,{path:"/",exact:!0,component:M}),Object(f.jsx)(o.a,{path:"/Wishlist",exact:!0,component:G}),Object(f.jsx)(o.a,{path:"/Recipes",exact:!0,component:Y})]})})})})},X=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,88)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),r(e),s(e)}))};s.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(V,{})}),document.getElementById("root")),X()}},[[80,1,2]]]);
//# sourceMappingURL=main.1ccc2638.chunk.js.map